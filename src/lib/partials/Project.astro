---
import Icon from './Icon.svelte';
import Tags from './Tags.astro';

interface Props {
  title: string;
  url: string;
  tags: string[];
  slug: string;
  code?: string;
  icon?: string | undefined;
  excerpt?: string | undefined;
}

const { title, url, slug, excerpt, tags, icon, code } = Astro.props;
---
<div class="bg-zinc-800 rounded-lg flex flex-col sm:flex-row sm:gap-4 items-center" transition:name={`project-card-${slug}`}>
  {icon && <div class="border-b border-zinc-900 sm:border-0 w-full sm:w-auto p-4 flex justify-center"><div class="h-24 w-24" set:html={icon} transition:name={`project-icon-${slug}`}></div></div>}
  <div class="flex flex-col gap-2 p-4 flex-grow relative">
    <h3 class="text-xl pr-8" transition:name={`project-title-${slug}`}><a href={url} target="_blank" class="text-blue-300 hover:underline">{title}</a></h3>
    {code && <a href={code} target="_blank" rel="noopener" class="text-zinc-50 absolute right-4 top-4"><Icon icon="github" size="1.5rem" /></a>}
    <Tags tags={tags} />
    {excerpt && <p>{excerpt}</p>}
    <p><a class="text-blue-300 hover:underline" href={`/project/${slug}/`}>More info...</a></p>
  </div>
</div>