---
import Seo from "$part/Seo.astro";
import { config } from "$util/config";
import { ClientRouter } from "astro:transitions";
import SlideNav from "$comp/SlideNav.astro";
import "src/style.css";

export interface Props {
    frontmatter: {
        title: string;
        description: string;
        background?: string;
        slideNum?: string;
        nextSlide?: string;
        prevSlide?: string;
    };
}

const { frontmatter } = Astro.props;
const { title, description, background, slideNum, nextSlide, prevSlide } =
    frontmatter;
---

<html lang="en" class="overflow-hidden">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="preconnect" href="https://fonts.bunny.net" />
        <link
            href="https://fonts.bunny.net/css?family=jetbrains-mono:400|recursive:400,700|merriweather:700"
            rel="stylesheet"
        />
        <Seo title={title} description={description} />
        <meta name="author" content={config.author} />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <ClientRouter />
    </head>
    <body
        class="bg-zinc-900 text-gray-50 font-sans h-screen overflow-hidden"
        style={`background: ${background};`}
    >
        <main class="h-full flex items-center justify-center p-8">
            <div
                class="max-w-4xl w-full mx-auto text-center flex flex-col justify-center p-4 min-h-[60vh] rounded-2xl bg-black/50 slide-content"
                transition:animate="slide"
                transition:name="slide-container"
            >
                <slot />
            </div>
        </main>

        <!-- Navigation hints -->

        {
            slideNum && (
                <div class="fixed top-4 right-4 text-sm text-gray-400">
                    {slideNum}
                </div>
            )
        }
        <SlideNav nextSlide={nextSlide} prevSlide={prevSlide} client:load />
    </body>
</html>

<style is:global>
    @reference "../../style.css"
    .slide-content {
        zoom: 1;
    }
    /* Style for slide content */
    .slide-content h1 {
        @apply text-5xl font-bold mb-8 text-white;
    }

    .slide-content h2 {
        @apply text-4xl font-bold mb-6 text-gray-100;
    }

    .slide-content h3 {
        @apply text-3xl font-bold mb-4 text-gray-200;
    }

    .slide-content p {
        @apply text-xl mb-6 text-gray-100 leading-relaxed;
    }

    .slide-content ul,
    .slide-content ol {
        @apply text-xl text-left max-w-2xl mx-auto text-gray-100;
    }
    .slide-content ul {
        @apply list-disc;
    }
    .slide-content ol {
        @apply list-decimal;
    }

    .slide-content li {
        @apply mb-4;
    }

    .slide-content code {
        @apply bg-zinc-800 px-2 py-1 rounded text-yellow-300;
    }

    .slide-content pre {
        @apply bg-zinc-800 p-6 rounded-lg text-left overflow-x-auto;
    }

    .slide-content blockquote {
        @apply border-l-4 border-blue-400 pl-6 text-2xl italic text-gray-200;
    }
    .slide-content a {
        @apply text-blue-400 hover:underline;
    }
    .slide-content table {
        @apply border-collapse border border-gray-700;
    }
    .slide-content th,
    .slide-content td {
        @apply border border-gray-200 px-4 py-2 text-left;
    }
</style>
